# NotebookLM 시너지 적용 방안

## PPuRI-AI Ultimate × Google NotebookLM 통합 전략

---

## 1. Google NotebookLM 핵심 분석

### 1.1 NotebookLM이란?

Google NotebookLM은 **문서 기반 AI 연구 어시스턴트**로, 일반적인 챗봇과 달리 **업로드된 문서만을 지식 소스로 사용**합니다 (Source Grounding).

**핵심 철학:**
```
"Your sources are your single source of truth"
- NotebookLM은 일반 웹 지식이 아닌, 사용자가 업로드한 문서만 참조
- 모든 응답에 정확한 출처 인용 포함
- 환각(Hallucination) 최소화
```

### 1.2 NotebookLM 핵심 기능

| 기능 | 설명 | PPuRI-AI 적용 가능성 |
|------|------|---------------------|
| **Source Grounding** | 업로드 문서 기반 RAG | ✅ 기존 RAG 확장 |
| **Inline Citations** | 응답 내 출처 링크 [1][2] | ✅ Citation 시스템 구현 |
| **Audio Overviews** | 대화형 팟캐스트 생성 | 🆕 신규 구현 |
| **Mind Maps** | 개념 관계 시각화 | ✅ Neo4j 확장 |
| **Data Tables** | 구조화된 정보 추출 | 🆕 신규 구현 |
| **Study Guides** | 학습 자료 자동 생성 | 🆕 신규 구현 |
| **FAQ Generation** | 자주 묻는 질문 자동 생성 | 🆕 신규 구현 |
| **Timeline** | 시간순 정보 정리 | 🆕 신규 구현 |

### 1.3 NotebookLM 기술 스택 추정

```
┌─────────────────────────────────────────────────────────────────┐
│                    Google NotebookLM                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐        │
│  │ Document     │   │ Gemini 3     │   │ Google TTS   │        │
│  │ Processing   │   │ (LLM Core)   │   │ (WaveNet)    │        │
│  └──────┬───────┘   └──────┬───────┘   └──────┬───────┘        │
│         │                  │                  │                 │
│  ┌──────▼───────────────────▼──────────────────▼──────┐        │
│  │              Vertex AI Platform                     │        │
│  │         (Embedding, Vector Search, RAG)            │        │
│  └─────────────────────────────────────────────────────┘        │
│                                                                 │
│  ┌──────────────┐   ┌──────────────┐   ┌──────────────┐        │
│  │ Google       │   │ Cloud        │   │ Firestore    │        │
│  │ Drive API   │   │ Storage      │   │ (Metadata)   │        │
│  └──────────────┘   └──────────────┘   └──────────────┘        │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 2. PPuRI-AI Ultimate 확장 아키텍처

### 2.1 NotebookLM 통합 아키텍처

```
┌─────────────────────────────────────────────────────────────────────────┐
│                    PPuRI-AI Ultimate + NotebookLM                       │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │                    Unified Search Layer                          │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │   │
│  │  │ Document    │  │ Web Search  │  │ Academic    │             │   │
│  │  │ RAG         │  │ (Brave/     │  │ Search      │             │   │
│  │  │ (ChromaDB)  │  │  Serper)    │  │ (Semantic   │             │   │
│  │  │             │  │             │  │  Scholar)   │             │   │
│  │  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘             │   │
│  │         │                │                │                     │   │
│  │         └────────────────┼────────────────┘                     │   │
│  │                          │                                       │   │
│  │                   ┌──────▼──────┐                               │   │
│  │                   │ Hybrid      │                               │   │
│  │                   │ Search      │                               │   │
│  │                   │ Engine      │                               │   │
│  │                   └──────┬──────┘                               │   │
│  └──────────────────────────┼──────────────────────────────────────┘   │
│                             │                                           │
│  ┌──────────────────────────┼──────────────────────────────────────┐   │
│  │                  Output Generation Layer                         │   │
│  │         ┌────────────────┼────────────────────┐                 │   │
│  │         │                │                    │                 │   │
│  │  ┌──────▼──────┐  ┌──────▼──────┐  ┌──────▼──────┐             │   │
│  │  │ Chat        │  │ Audio       │  │ Structured  │             │   │
│  │  │ Response    │  │ Overview    │  │ Output      │             │   │
│  │  │ w/Citations │  │ (Podcast)   │  │ (Tables/    │             │   │
│  │  │             │  │             │  │  Maps/FAQ)  │             │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘             │   │
│  └──────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  ┌──────────────────────────────────────────────────────────────────┐   │
│  │                    뿌리산업 특화 레이어                            │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐              │   │
│  │  │ 전문용어    │  │ 산업별      │  │ KITECH      │              │   │
│  │  │ 사전       │  │ 네임스페이스 │  │ 문서        │              │   │
│  │  │ (발음/약어) │  │ (6개 도메인) │  │ 템플릿      │              │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘              │   │
│  └──────────────────────────────────────────────────────────────────┘   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.2 핵심 컴포넌트

#### 1) HybridSearchEngine (하이브리드 검색)
- **위치**: `core/search/hybrid_search_engine.py`
- **기능**: 문서 RAG + 웹 검색 + 학술 검색 통합
- **특징**:
  - NotebookLM처럼 문서 우선 (가중치 1.0)
  - 웹 검색은 보조적 (가중치 0.6)
  - 인용 자동 생성

#### 2) AudioOverviewEngine (오디오 개요)
- **위치**: `core/audio/audio_overview_engine.py`
- **기능**: 문서 → 대화형 팟캐스트 변환
- **특징**:
  - 두 명의 AI 호스트 대화 형식
  - Edge-TTS 기반 한국어 음성
  - 뿌리산업 전문용어 발음 최적화

#### 3) StructuredOutputGenerator (구조화된 출력)
- **위치**: `core/output/structured_output_generator.py`
- **기능**: Mind Map, Data Table, FAQ 등 생성
- **특징**:
  - Mermaid 다이어그램 출력
  - CSV/JSON/Markdown 내보내기
  - 학습 가이드 자동 생성

---

## 3. 구현 로드맵

### Phase 1: 기반 시스템 (2주)

```
Week 1: 하이브리드 검색 시스템
├── HybridSearchEngine 완성
├── Citation 시스템 구현
├── Web Search API 연동 (Brave/Serper)
└── Academic Search 연동 (Semantic Scholar)

Week 2: 인용 기반 응답
├── Inline Citation 포맷터
├── Source Grounding 검증
├── 응답 품질 평가 시스템
└── UI 인용 표시 컴포넌트
```

### Phase 2: Audio Overview (2주)

```
Week 3: 스크립트 생성
├── 문서 요약 최적화
├── 대화형 스크립트 생성 프롬프트
├── 감정/톤 제어 시스템
└── 뿌리산업 용어 처리

Week 4: 음성 합성
├── Edge-TTS 통합
├── 화자별 음성 설정
├── 오디오 세그먼트 병합
└── 자막(SRT/VTT) 생성
```

### Phase 3: 구조화된 출력 (2주)

```
Week 5: Mind Map & Timeline
├── LLM 기반 구조 추출
├── Mermaid 코드 생성
├── D3.js 시각화 연동
└── Neo4j 그래프 통합

Week 6: Tables & Guides
├── Data Table 추출
├── FAQ 자동 생성
├── Study Guide 생성
├── 비교 테이블 생성
└── 내보내기 (CSV/PDF)
```

### Phase 4: 통합 및 최적화 (2주)

```
Week 7-8: 시스템 통합
├── 전체 컴포넌트 통합
├── UI/UX 완성
├── 성능 최적화
├── 사용자 테스트
└── 문서화
```

---

## 4. 기술 스택 비교 및 선택

### 4.1 TTS 솔루션 비교

| 솔루션 | 품질 | 비용 | 한국어 | 선택 |
|--------|------|------|--------|------|
| **Edge-TTS** | 8/10 | 무료 | 우수 | ✅ 기본 |
| ElevenLabs | 10/10 | 유료 | 보통 | 프리미엄 옵션 |
| OpenAI TTS | 9/10 | 유료 | 보통 | 대안 |
| VITS (로컬) | 7/10 | 무료 | 커스텀 | 온프레미스용 |

**선택: Edge-TTS (기본) + ElevenLabs (프리미엄)**

### 4.2 웹 검색 API 비교

| API | 품질 | 비용 | 한국어 | 선택 |
|-----|------|------|--------|------|
| **Brave Search** | 8/10 | 무료(월 2000회) | 양호 | ✅ 기본 |
| Serper (Google) | 9/10 | 저렴 | 우수 | 대안 |
| Bing Search | 7/10 | 중간 | 양호 | - |
| SearXNG (Self-hosted) | 7/10 | 무료 | 양호 | 온프레미스 |

**선택: Brave Search (기본) + Serper (폴백)**

### 4.3 학술 검색 API

| API | 용도 | 비용 | 선택 |
|-----|------|------|------|
| **Semantic Scholar** | 논문 검색 | 무료 | ✅ |
| arXiv API | 프리프린트 | 무료 | ✅ |
| KIPRIS | 한국 특허 | 무료 | ✅ |
| Google Patents | 국제 특허 | 무료 | 옵션 |

---

## 5. PPuRI-AI 차별화 전략

### 5.1 NotebookLM 대비 강점

```
┌─────────────────────────────────────────────────────────────────┐
│            PPuRI-AI Ultimate 차별화 포인트                       │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  1. 뿌리산업 특화 📊                                             │
│     ├── 6개 산업별 전문 지식 베이스                              │
│     ├── 기술 용어 사전 및 발음 최적화                            │
│     └── KITECH 문서 템플릿 지원                                  │
│                                                                 │
│  2. 하이브리드 검색 🔍                                           │
│     ├── 문서 + 웹 + 학술 + 특허 통합                            │
│     ├── 실시간 외부 정보 접근                                    │
│     └── NotebookLM은 문서만 (외부 검색 없음)                     │
│                                                                 │
│  3. 온프레미스 배포 🏢                                           │
│     ├── 민감 데이터 로컬 처리                                    │
│     ├── vLLM/Ollama 로컬 LLM 지원                               │
│     └── 기업 보안 요구사항 충족                                  │
│                                                                 │
│  4. 지식 그래프 통합 🕸️                                          │
│     ├── Neo4j 기반 관계 분석                                     │
│     ├── GraphRAG 고급 검색                                       │
│     └── 엔티티 연결 시각화                                       │
│                                                                 │
│  5. 자동 최적화 🤖                                               │
│     ├── DSPy 프롬프트 자동 최적화                                │
│     ├── 성능 피드백 루프                                         │
│     └── 메타-학습 도구 진화                                      │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 5.2 기능 매트릭스

| 기능 | NotebookLM | PPuRI-AI Ultimate |
|------|------------|-------------------|
| 문서 기반 RAG | ✅ | ✅ |
| 인라인 인용 | ✅ | ✅ |
| Audio Overview | ✅ | ✅ |
| Mind Map | ✅ | ✅ (Neo4j 확장) |
| Data Tables | ✅ | ✅ |
| FAQ 생성 | ✅ | ✅ |
| **웹 검색 통합** | ❌ | ✅ |
| **학술 검색** | ❌ | ✅ |
| **특허 검색** | ❌ | ✅ |
| **지식 그래프** | ❌ | ✅ |
| **온프레미스** | ❌ | ✅ |
| **한국어 특화** | 보통 | ✅ 우수 |
| **산업 특화** | ❌ | ✅ 뿌리산업 |

---

## 6. API 설계

### 6.1 검색 API

```python
# POST /api/v1/search/hybrid
{
    "query": "TIG 용접 결함 원인",
    "sources": ["document", "web", "academic"],
    "industry_filter": "welding",
    "max_results": 10,
    "include_citations": true
}

# Response
{
    "answer": "TIG 용접의 주요 결함 원인은... [1][2]",
    "citations": [
        {"id": "1", "source": "document", "title": "용접 품질 가이드", ...},
        {"id": "2", "source": "academic", "title": "Arc Welding Defects", ...}
    ],
    "search_time_ms": 234
}
```

### 6.2 Audio Overview API

```python
# POST /api/v1/audio/overview
{
    "document_ids": ["doc_001", "doc_002"],
    "title": "TIG 용접 기술 개요",
    "style": "conversational",
    "duration_minutes": 10
}

# Response
{
    "audio_url": "/audio/outputs/tig_overview_20250109.mp3",
    "duration_seconds": 612,
    "transcript": [...],
    "download_formats": ["mp3", "wav", "srt", "vtt"]
}
```

### 6.3 구조화된 출력 API

```python
# POST /api/v1/output/generate
{
    "document_ids": ["doc_001"],
    "output_format": "mind_map",  # or "data_table", "faq", "study_guide", etc.
    "options": {
        "topic": "용접 결함 분류"
    }
}

# Response
{
    "format": "mind_map",
    "data": {...},
    "mermaid_code": "mindmap\n  root((용접 결함))...",
    "export_formats": ["png", "svg", "json"]
}
```

---

## 7. UI/UX 개선

### 7.1 NotebookLM 스타일 UI

```
┌─────────────────────────────────────────────────────────────────┐
│  PPuRI-AI Ultimate                              [뿌리산업: 용접] │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌───────────────────┐  ┌─────────────────────────────────────┐ │
│  │ 📁 Sources        │  │ 💬 Chat                             │ │
│  │                   │  │                                     │ │
│  │ ☑️ 용접가이드.pdf │  │ User: TIG 용접 결함 원인 알려줘    │ │
│  │ ☑️ 품질기준.docx  │  │                                     │ │
│  │ ☐ 표면처리.pdf   │  │ AI: TIG 용접의 주요 결함은...      │ │
│  │                   │  │     [1][2][3]                       │ │
│  │ ───────────────── │  │                                     │ │
│  │ 🌐 Web Search: ✅ │  │ ─────────────────────────────────── │ │
│  │ 📚 Academic: ✅   │  │                                     │ │
│  │                   │  │ [1] 용접가이드.pdf p.42             │ │
│  │                   │  │ [2] Arc Welding (2024) - Paper      │ │
│  │                   │  │ [3] KITECH 표준 - Web               │ │
│  └───────────────────┘  └─────────────────────────────────────┘ │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ 📤 Generate                                                  │ │
│  │                                                             │ │
│  │ [🎙️ Audio Overview] [🗺️ Mind Map] [📊 Data Table]          │ │
│  │ [❓ FAQ] [📖 Study Guide] [📅 Timeline]                      │ │
│  │                                                             │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 7.2 Audio Overview Player

```
┌─────────────────────────────────────────────────────────────────┐
│  🎙️ Audio Overview: TIG 용접 기술 개요                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ▶️ ━━━━━━━━━━●━━━━━━━━━━━━━━━━━━━━━━━━━  05:23 / 10:12        │
│                                                                 │
│  [⏮️] [⏪] [▶️] [⏩] [⏭️]   🔊 ━━━━●━━━━  1.0x [1.5x] [2.0x]   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │ [진행자] 오늘은 TIG 용접의 주요 결함 원인에 대해            │ │
│  │ 이야기해볼까요?                                             │ │
│  │                                                             │ │
│  │ [질문자] 네, TIG 용접에서 가장 흔한 결함은 무엇인가요?      │ │
│  │                                                             │ │
│  │ [진행자] 가장 흔한 결함으로는 텅스텐 혼입, 기공,            │ │
│  │ 언더컷 등이 있습니다...                                     │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  [📥 MP3] [📥 자막(SRT)] [📋 대본 복사]                         │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 8. 추가 의존성

### 8.1 requirements.txt 추가 항목

```txt
# Audio Overview
edge-tts>=6.1.0              # Microsoft Edge TTS (무료, 고품질)
pydub>=0.25.1                # 오디오 처리
ffmpeg-python>=0.2.0         # FFmpeg Python 래퍼

# Web Search
httpx>=0.25.0                # 비동기 HTTP (기존)
aiohttp>=3.9.0               # 비동기 HTTP (기존)

# Structured Output
mermaid-py>=0.4.0            # Mermaid 다이어그램 렌더링 (선택)

# Academic Search
semanticscholar>=0.7.0       # Semantic Scholar API
arxiv>=2.1.0                 # arXiv API

# Export
weasyprint>=60.0             # PDF 생성
openpyxl>=3.1.0              # Excel 내보내기
```

### 8.2 시스템 의존성

```bash
# FFmpeg (오디오 처리용)
# macOS
brew install ffmpeg

# Ubuntu
sudo apt-get install ffmpeg

# Windows
choco install ffmpeg
```

---

## 9. 성공 지표

### 9.1 기능 완성도

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| Source Grounding | 95%+ | 응답 내 인용 포함률 |
| Citation 정확도 | 90%+ | 인용 내용 일치율 |
| Audio 생성 성공률 | 95%+ | 오류 없이 생성 완료 |
| 구조화 출력 품질 | 4.0/5.0 | 사용자 평가 |

### 9.2 성능 지표

| 지표 | 목표 | 현재 |
|------|------|------|
| 검색 응답 시간 | < 2초 | - |
| Audio 생성 시간 | < 60초/10분 | - |
| Mind Map 생성 | < 5초 | - |
| 동시 사용자 | 50+ | - |

---

## 10. 결론

PPuRI-AI Ultimate는 Google NotebookLM의 핵심 기능을 모두 구현하면서, 다음의 차별화된 가치를 제공합니다:

1. **하이브리드 검색**: 문서 + 웹 + 학술 통합 (NotebookLM은 문서만)
2. **뿌리산업 특화**: 6개 산업별 전문 지식 및 용어 처리
3. **온프레미스 배포**: 민감 데이터 로컬 처리 가능
4. **지식 그래프**: Neo4j 기반 관계 분석 및 GraphRAG
5. **자동 최적화**: DSPy 기반 프롬프트 자동 개선

이를 통해 KITECH 연구원들에게 NotebookLM 수준의 사용자 경험과 뿌리산업 특화 기능을 동시에 제공할 수 있습니다.
